<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Breezyfy ‚Äî AI Image Generator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300;400&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --bg:    #080810;
      --surf:  #0c0c1c;
      --card:  #101020;
      --card2: #14142a;
      --bdr:   rgba(255,255,255,0.08);
      --bact:  rgba(110,80,255,0.5);
      --acc:   #6e50ff;
      --alit:  #9b7dff;
      --wh:    #ffffff;
      --txt:   #e4e4f0;
      --sub:   #8888aa;
      --mut:   #4a4a66;
      --ok:    #34d399;
      --err:   #f87171;
      --r:     10px;
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;overflow:hidden}
    body{background:var(--bg);color:var(--txt);font-family:'Syne',sans-serif}
    body::after{
      content:'';position:fixed;inset:0;z-index:0;pointer-events:none;
      background:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.02'/%3E%3C/svg%3E");
      background-size:160px;
    }
    .orb{position:fixed;border-radius:50%;filter:blur(120px);pointer-events:none;z-index:0}
    .o1{width:500px;height:500px;top:-160px;left:-80px;background:radial-gradient(circle,rgba(110,80,255,.1),transparent 70%)}
    .o2{width:380px;height:380px;bottom:-60px;right:80px;background:radial-gradient(circle,rgba(90,50,200,.07),transparent 70%)}

    header{
      position:relative;z-index:30;height:52px;flex-shrink:0;
      display:flex;align-items:center;padding:0 24px;gap:16px;
      border-bottom:1px solid var(--bdr);
      background:rgba(8,8,16,.96);backdrop-filter:blur(24px);
    }
    .logo{
      font-family:'Syne',sans-serif;font-size:22px;font-weight:800;
      letter-spacing:-.02em;color:var(--wh);text-decoration:none;
      white-space:nowrap;flex-shrink:0;
    }
    .logo span{color:var(--acc)}
    .hd{width:1px;height:20px;background:var(--bdr);flex-shrink:0}
    .htag{
      font-family:'DM Mono',monospace;font-size:10px;
      letter-spacing:.15em;text-transform:uppercase;
      color:var(--sub);white-space:nowrap;
    }

    .shell{
      display:flex;
      height:calc(100vh - 52px);
      position:relative;z-index:10;
    }

    .sidebar{
      width:480px;min-width:460px;flex-shrink:0;
      height:100%;overflow-y:auto;overflow-x:hidden;
      background:var(--surf);border-right:1px solid var(--bdr);
      display:flex;flex-direction:column;
    }
    .sidebar::-webkit-scrollbar{width:4px}
    .sidebar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:2px}

    .sec{padding:20px 24px;border-bottom:1px solid var(--bdr)}
    .slbl{
      font-size:12px;font-weight:700;letter-spacing:.18em;text-transform:uppercase;
      color:var(--wh);margin-bottom:12px;display:flex;align-items:center;gap:10px;
    }
    .slbl::after{content:'';flex:1;height:1px;background:var(--bdr)}

    .pw{position:relative}
    #prompt{
      width:100%;background:var(--card);border:1px solid var(--bdr);
      color:var(--wh);padding:13px 15px 32px;border-radius:12px;
      font-family:'DM Mono',monospace;font-size:13px;line-height:1.75;
      resize:none;height:130px;outline:none;transition:border-color .2s,box-shadow .2s;
    }
    #prompt::placeholder{color:var(--mut)}
    #prompt:focus{border-color:var(--bact);box-shadow:0 0 0 3px rgba(110,80,255,.09)}
    .cc{position:absolute;bottom:9px;right:12px;font-family:'DM Mono',monospace;font-size:9.5px;color:var(--mut)}

    #neg{
      width:100%;background:var(--card);border:1px solid var(--bdr);
      color:var(--sub);padding:11px 14px;border-radius:12px;
      font-family:'DM Mono',monospace;font-size:11px;line-height:1.65;
      resize:none;height:76px;outline:none;transition:border-color .2s;
    }
    #neg:focus{border-color:rgba(248,113,113,.3);color:var(--wh)}

    .stabs{display:flex;gap:6px;margin-bottom:14px;flex-wrap:wrap}
    .stab{
      font-family:'Syne',sans-serif;font-size:11px;font-weight:600;
      letter-spacing:.08em;text-transform:uppercase;
      padding:7px 15px;border-radius:50px;border:1px solid var(--bdr);
      background:transparent;color:var(--sub);cursor:pointer;transition:all .18s;
    }
    .stab:hover{color:var(--wh);border-color:rgba(255,255,255,.2)}
    .stab.on{background:rgba(110,80,255,.17);border-color:var(--bact);color:var(--wh)}

    input[type="radio"][name="sz"]{display:none}
    .sgrp,.sgrp4{display:none}
    .sgrp.on{display:grid;grid-template-columns:repeat(3,1fr);gap:9px}
    .sgrp4.on{display:grid;grid-template-columns:repeat(4,1fr);gap:9px}
    .scard{
      background:var(--card);border:1px solid var(--bdr);border-radius:12px;
      padding:13px 7px 11px;cursor:pointer;
      display:flex;flex-direction:column;align-items:center;gap:6px;transition:all .18s;
    }
    .scard:hover{border-color:rgba(110,80,255,.3);background:var(--card2)}
    input[type="radio"]:checked + .scard{border-color:var(--acc);background:rgba(110,80,255,.11)}
    .svis{width:42px;height:32px;display:flex;align-items:center;justify-content:center}
    .srect{
      background:linear-gradient(135deg,rgba(110,80,255,.38),rgba(155,125,255,.16));
      border:1.5px solid rgba(110,80,255,.48);border-radius:3px;transition:all .18s;
    }
    input[type="radio"]:checked + .scard .srect{
      background:linear-gradient(135deg,rgba(110,80,255,.68),rgba(155,125,255,.38));
      border-color:var(--alit);
    }
    .srat{font-family:'Syne',sans-serif;font-size:12px;font-weight:700;color:var(--wh)}
    .spx{font-family:'DM Mono',monospace;font-size:9px;color:var(--sub)}
    input[type="radio"]:checked + .scard .srat{color:var(--alit)}

    .cgrp{display:none;flex-direction:column;gap:10px}
    .cgrp.on{display:flex}
    .crow{display:grid;grid-template-columns:1fr 36px 1fr 36px;gap:8px;align-items:center}
    .diw{position:relative}
    .dilbl{position:absolute;left:11px;top:50%;transform:translateY(-50%);font-size:10px;color:var(--sub);pointer-events:none;font-weight:600}
    .diin{
      width:100%;background:var(--card);border:1px solid var(--bdr);border-radius:9px;
      color:var(--wh);font-family:'DM Mono',monospace;font-size:14px;
      padding:10px 9px 10px 26px;outline:none;transition:border-color .2s;-moz-appearance:textfield;
    }
    .diin::-webkit-outer-spin-button,.diin::-webkit-inner-spin-button{-webkit-appearance:none}
    .diin:focus{border-color:var(--bact)}
    .ibtn{
      background:var(--card);border:1px solid var(--bdr);border-radius:9px;
      width:36px;height:42px;display:flex;align-items:center;justify-content:center;
      cursor:pointer;color:var(--sub);font-size:14px;transition:all .18s;
    }
    .ibtn:hover{border-color:var(--bact);color:var(--alit)}
    .ibtn.lk{border-color:var(--bact);color:var(--alit)}
    .appbtn{
      background:transparent;border:1px dashed rgba(255,255,255,.13);border-radius:9px;
      color:var(--sub);font-family:'Syne',sans-serif;font-size:10px;font-weight:600;
      letter-spacing:.1em;text-transform:uppercase;padding:9px;
      cursor:pointer;transition:all .18s;width:100%;
    }
    .appbtn:hover{border-color:var(--bact);color:var(--wh)}
    .appbtn.done{border-color:var(--acc);color:var(--alit);background:rgba(110,80,255,.08)}

    /* ad slot */
    .ad-slot{
      padding:16px 24px 0;
      display:flex;flex-direction:column;align-items:center;gap:8px;
      border-top:1px solid var(--bdr);
    }
    .ad-lbl{
      font-family:'DM Mono',monospace;font-size:9px;
      letter-spacing:.12em;text-transform:uppercase;color:var(--mut);
      align-self:flex-start;
    }
    .ad-box{
      width:300px;height:250px;overflow:hidden;
      border-radius:10px;border:1px solid rgba(255,255,255,0.06);
      background:#0c0c1c;flex-shrink:0;
    }

    .gsec{padding:16px 24px 20px;margin-top:auto}
    #genBtn{
      width:100%;position:relative;overflow:hidden;
      background:linear-gradient(135deg,var(--acc),#4a30c8);
      border:none;border-radius:12px;color:#fff;
      font-family:'Syne',sans-serif;font-size:15px;font-weight:700;
      letter-spacing:.06em;padding:16px;cursor:pointer;
      transition:transform .2s,box-shadow .2s,opacity .2s;
    }
    #genBtn::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.08),transparent)}
    #genBtn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 30px rgba(110,80,255,.42)}
    #genBtn:disabled{opacity:.4;cursor:not-allowed;transform:none;box-shadow:none}
    .shim{
      position:absolute;top:0;left:-100%;width:50%;height:100%;
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.13),transparent);
      animation:shim 2.8s infinite;
    }
    @keyframes shim{to{left:200%}}

    .feed-col{
      flex:1;min-width:0;height:100%;
      display:flex;flex-direction:column;
      border-right:1px solid var(--bdr);overflow:hidden;
    }
    .feed-empty{
      flex:1;display:flex;flex-direction:column;
      align-items:center;justify-content:center;
      gap:18px;text-align:center;padding:40px;
    }
    .fe-ico{width:72px;height:72px;border:1px solid var(--bdr);border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:28px;background:var(--card)}
    .fe-title{font-size:22px;font-weight:300;font-family:'DM Mono',monospace;color:var(--wh);letter-spacing:.03em}
    .fe-sub{font-family:'DM Mono',monospace;font-size:11px;color:var(--sub);line-height:1.8}
    .feed-scroll{flex:1;overflow-y:auto;overflow-x:hidden;display:none;flex-direction:column}
    .feed-scroll::-webkit-scrollbar{width:5px}
    .feed-scroll::-webkit-scrollbar-track{background:transparent}
    .feed-scroll::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:3px}

    .batch{border-bottom:1px solid var(--bdr);padding:0}
    .bh{display:flex;align-items:center;gap:10px;padding:14px 20px 12px}
    .bh-img-ico{width:22px;height:22px;flex-shrink:0;opacity:.5}
    .bh-divider{width:1px;height:16px;background:var(--bdr);flex-shrink:0}
    .bh-badge{
      font-family:'Syne',sans-serif;font-size:10px;font-weight:700;letter-spacing:.06em;
      background:var(--card2);border:1px solid var(--bdr);
      color:var(--sub);padding:3px 10px;border-radius:5px;white-space:nowrap;flex-shrink:0;
    }
    .bh-badge.hi{background:rgba(110,80,255,.12);border-color:rgba(110,80,255,.3);color:var(--alit)}
    .bh-prompt{font-family:'DM Mono',monospace;font-size:12px;color:var(--sub);flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .bh-actions{display:flex;align-items:center;gap:8px;flex-shrink:0;margin-left:auto}
    .bh-dl{
      font-family:'Syne',sans-serif;font-size:10px;font-weight:700;
      letter-spacing:.07em;text-transform:uppercase;
      color:var(--ok);background:rgba(52,211,153,.08);
      border:1px solid rgba(52,211,153,.22);
      padding:5px 14px;border-radius:7px;cursor:pointer;text-decoration:none;transition:all .18s;
    }
    .bh-dl:hover{background:rgba(52,211,153,.16)}

    .batch-img-area{padding:0 20px 20px}
    /* ‚ïê‚ïê STUNNING LOAD CARD ‚ïê‚ïê */
    .load-card{
      width:100%;border-radius:16px;
      border:1px solid rgba(110,80,255,.15);
      background:linear-gradient(135deg,#07071a,#0a0820);
      overflow:hidden;position:relative;min-height:320px;
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0;
    }

    /* Animated grid background */
    .load-grid{
      position:absolute;inset:0;z-index:0;
      background-image:
        linear-gradient(rgba(110,80,255,.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(110,80,255,.06) 1px, transparent 1px);
      background-size:40px 40px;
      animation:gridPan 8s linear infinite;
    }
    @keyframes gridPan{from{background-position:0 0}to{background-position:40px 40px}}

    /* Radial glow */
    .load-glow{
      position:absolute;inset:0;z-index:0;
      background:radial-gradient(ellipse 60% 50% at 50% 50%, rgba(110,80,255,.12), transparent 70%);
      animation:glowPulse 3s ease-in-out infinite;
    }
    @keyframes glowPulse{0%,100%{opacity:.6}50%{opacity:1}}

    /* Queue badge */
    .queue-badge{
      position:relative;z-index:2;
      font-family:'DM Mono',monospace;font-size:11px;letter-spacing:.2em;
      text-transform:uppercase;color:rgba(155,125,255,.7);
      background:rgba(110,80,255,.1);border:1px solid rgba(110,80,255,.2);
      padding:5px 16px;border-radius:50px;margin-bottom:28px;
      transition:all .4s ease;
    }

    /* Main orb container */
    .orb-wrap{
      position:relative;z-index:2;
      width:140px;height:140px;
      display:flex;align-items:center;justify-content:center;
    }

    /* Outer ring ‚Äî queue waiting */
    .ring-outer{
      position:absolute;inset:0;border-radius:50%;
      border:1px solid rgba(110,80,255,.2);
      animation:ringRotate 8s linear infinite;
    }
    .ring-outer::before{
      content:'';position:absolute;top:-3px;left:50%;
      width:6px;height:6px;border-radius:50%;
      background:var(--alit);box-shadow:0 0 10px var(--alit);
      transform:translateX(-50%);
    }
    @keyframes ringRotate{to{transform:rotate(360deg)}}

    /* Middle ring */
    .ring-mid{
      position:absolute;inset:14px;border-radius:50%;
      border:1px solid rgba(110,80,255,.15);
      animation:ringRotate 5s linear infinite reverse;
    }
    .ring-mid::before{
      content:'';position:absolute;bottom:-3px;left:50%;
      width:5px;height:5px;border-radius:50%;
      background:rgba(110,80,255,.8);box-shadow:0 0 8px rgba(110,80,255,.8);
      transform:translateX(-50%);
    }

    /* Progress SVG ring */
    .progress-ring{
      position:absolute;inset:0;
      transform:rotate(-90deg);
      opacity:0;transition:opacity .5s ease;
    }
    .progress-ring.visible{opacity:1}
    .progress-ring circle.track{
      fill:none;stroke:rgba(110,80,255,.1);stroke-width:3;
    }
    .progress-ring circle.fill{
      fill:none;stroke:url(#progGrad);stroke-width:3;
      stroke-linecap:round;
      stroke-dasharray:376;
      stroke-dashoffset:376;
      transition:stroke-dashoffset .8s cubic-bezier(.4,0,.2,1);
    }

    /* Inner orb */
    .orb-inner{
      width:80px;height:80px;border-radius:50%;
      background:radial-gradient(circle at 35% 35%, rgba(155,125,255,.3), rgba(110,80,255,.1) 50%, transparent);
      border:1px solid rgba(110,80,255,.3);
      display:flex;align-items:center;justify-content:center;
      animation:orbFloat 4s ease-in-out infinite;
      box-shadow:0 0 30px rgba(110,80,255,.15), inset 0 0 20px rgba(110,80,255,.05);
    }
    @keyframes orbFloat{
      0%,100%{transform:translateY(0) scale(1)}
      50%{transform:translateY(-6px) scale(1.03)}
    }

    /* Percent text inside orb */
    .pct-text{
      font-family:'DM Mono',monospace;font-size:18px;font-weight:400;
      color:var(--wh);letter-spacing:-.02em;
      opacity:0;transition:opacity .4s ease;
      text-align:center;line-height:1;
    }
    .pct-text.visible{opacity:1}
    .pct-sub{font-size:8px;letter-spacing:.1em;color:var(--sub);display:block;margin-top:2px}

    /* Floating particles */
    .particles{position:absolute;inset:0;z-index:1;pointer-events:none}
    .particle{
      position:absolute;border-radius:50%;
      background:rgba(110,80,255,.6);
      animation:particleDrift var(--dur) ease-in-out infinite;
      animation-delay:var(--del);
    }
    @keyframes particleDrift{
      0%{transform:translate(0,0) scale(1);opacity:0}
      20%{opacity:1}
      80%{opacity:.5}
      100%{transform:translate(var(--tx),var(--ty)) scale(0);opacity:0}
    }

    /* Status text below orb */
    .load-status{
      position:relative;z-index:2;
      margin-top:24px;text-align:center;
    }
    .load-lbl{
      font-family:'DM Mono',monospace;font-size:12px;
      color:var(--sub);letter-spacing:.08em;
      transition:all .3s ease;
    }
    .load-sublbl{
      font-family:'DM Mono',monospace;font-size:10px;
      color:var(--mut);letter-spacing:.05em;
      margin-top:6px;
      transition:all .3s ease;
    }

    /* Old unused */
    .load-dots,.spinner,.pulse-dot,.load-row,.chevrons{display:none}
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes plsr{}
    @keyframes chev{}

    .result-img-outer{display:flex;flex-direction:column;align-items:flex-start;gap:10px}
    .result-img-wrap{max-height:420px;width:auto;border-radius:12px;overflow:hidden;position:relative;border:1px solid var(--bdr);background:var(--card);flex-shrink:0}
    .result-img-wrap img{height:100%;width:auto;max-height:420px;display:block;border-radius:12px;transition:opacity .5s ease}
    .img-dl-bar{display:flex;align-items:center;gap:10px}
    .i-dl{
      font-family:'Syne',sans-serif;font-size:11px;font-weight:700;letter-spacing:.07em;text-transform:uppercase;
      color:#fff;background:rgba(110,80,255,.75);padding:7px 16px;border-radius:8px;
      text-decoration:none;cursor:pointer;border:none;transition:background .18s;
    }
    .i-dl:hover{background:rgba(110,80,255,1)}
    .i-size-tag{font-family:'DM Mono',monospace;font-size:10px;color:var(--sub);background:var(--card);border:1px solid var(--bdr);padding:6px 12px;border-radius:8px}

    .err-card{
      width:100%;min-height:120px;border-radius:12px;
      border:1px solid rgba(248,113,113,.2);background:rgba(248,113,113,.05);
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:24px;
    }
    .err-ico{font-size:26px}
    .err-msg{font-family:'DM Mono',monospace;font-size:12px;color:var(--err);text-align:center}

    .recent-col{width:76px;flex-shrink:0;height:100%;background:var(--surf);display:flex;flex-direction:column;overflow:hidden}
    .rc-hdr{height:52px;flex-shrink:0;border-bottom:1px solid var(--bdr);display:flex;align-items:center;justify-content:center}
    .rc-lbl{font-family:'Syne',sans-serif;font-size:8px;font-weight:700;letter-spacing:.2em;text-transform:uppercase;color:var(--sub)}
    .rc-scroll{flex:1;overflow-y:auto;overflow-x:hidden;padding:8px 7px;display:flex;flex-direction:column;gap:7px;align-items:center}
    .rc-scroll::-webkit-scrollbar{width:2px}
    .rc-scroll::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:2px}
    .rc-thumb{width:56px;height:56px;border-radius:8px;object-fit:cover;border:2px solid var(--bdr);cursor:pointer;flex-shrink:0;transition:all .2s;display:block}
    .rc-thumb:hover{border-color:var(--acc);transform:scale(1.06)}
    .rc-thumb.active{border-color:var(--alit);box-shadow:0 0 0 2px rgba(155,125,255,.3)}

    @media(max-width:1100px){.sidebar{width:380px;min-width:360px}}
    @media(max-width:860px){
      .sidebar{width:300px;min-width:280px}
      .recent-col{width:62px}
      .rc-thumb{width:46px;height:46px}
    }

    /* ‚ïê‚ïê MOBILE ‚â§767px ‚ïê‚ïê */
    @media(max-width:767px){
      html,body{height:100%;overflow:hidden}
      .shell{
        flex-direction:column;
        height:calc(100vh - 52px);
        overflow-y:auto;
        overflow-x:hidden;
        -webkit-overflow-scrolling:touch;
      }
      .recent-col{display:none}
      .sidebar{
        width:100%;min-width:0;height:auto;
        flex-shrink:0;border-right:none;
        border-bottom:1px solid var(--bdr);
        overflow:visible;
      }
      .feed-col{
        width:100%;min-width:0;height:auto;
        flex-shrink:0;border-right:none;
        overflow:visible;display:flex;flex-direction:column;
      }
      .feed-empty{min-height:260px;flex:none}
      .feed-scroll{overflow:visible;height:auto;flex:none}
      header{padding:0 16px;gap:12px}
      .logo{font-size:19px}
      .htag{display:none}
      .sec{padding:16px 18px}
      .ad-slot{padding:12px 18px 0}
      .ad-box{width:100%;max-width:300px}
      .gsec{
        padding:14px 18px 18px;margin-top:0;
        border-top:1px solid var(--bdr);background:var(--surf);
      }
      .sgrp.on{grid-template-columns:repeat(2,1fr)}
      .sgrp4.on{grid-template-columns:repeat(2,1fr)}
      .batch-img-area{padding:0 14px 16px}
      .bh{padding:12px 14px 10px;gap:7px;flex-wrap:wrap}
      .bh-badge{font-size:9px;padding:2px 7px}
      .bh-prompt{font-size:11px;min-width:0}
      .bh-actions{flex-wrap:wrap}
      .result-img-wrap{max-height:none!important;width:100%!important;aspect-ratio:unset!important}
      .result-img-wrap img{width:100%!important;height:auto!important;max-height:none!important}
      .load-card{min-height:200px}
      .fe-title{font-size:18px}
      .fe-sub{font-size:10px}
      .fe-ico{width:58px;height:58px;font-size:22px}
    }
  </style>
</head>
<body>
<div class="orb o1"></div>
<div class="orb o2"></div>

<header>
  <a class="logo" href="#"><span>B</span>reezyfy</a>
  <div class="hd"></div>
  <span class="htag">Create without Limits</span>
</header>

<div class="shell" id="shell">

  <aside class="sidebar" id="sidebar">

    <div class="sec">
      <div class="slbl">Prompt</div>
      <div class="pw">
        <textarea id="prompt"
          placeholder="Describe your image ‚Äî subject, style, lighting, mood‚Ä¶"
          maxlength="800" oninput="uc(this)"></textarea>
        <span class="cc"><span id="cn">0</span>/800</span>
      </div>
    </div>

    <div class="sec">
      <div class="slbl">Negative Prompt</div>
      <textarea id="neg">ugly, blurry, low quality, deformed, bad anatomy, extra limbs, watermark, text, signature, cropped, worst quality, jpeg artifacts, noise, overexposed, underexposed</textarea>
    </div>

    <div class="sec">
      <div class="slbl">Canvas Size</div>
      <div class="stabs">
        <button class="stab on" onclick="st('sq',this)">Square</button>
        <button class="stab" onclick="st('po',this)">Portrait</button>
        <button class="stab" onclick="st('la',this)">Landscape</button>
        <button class="stab" onclick="st('cu',this)">Custom</button>
      </div>

      <div class="sgrp on" id="g-sq">
        <input type="radio" name="sz" id="sq1" value="512,512" checked>
        <label class="scard" for="sq1">
          <div class="svis"><div class="srect" style="width:21px;height:21px"></div></div>
          <div class="srat">1:1</div><div class="spx">512 px</div>
        </label>
        <input type="radio" name="sz" id="sq2" value="768,768">
        <label class="scard" for="sq2">
          <div class="svis"><div class="srect" style="width:25px;height:25px"></div></div>
          <div class="srat">1:1</div><div class="spx">768 px</div>
        </label>
        <input type="radio" name="sz" id="sq3" value="1024,1024">
        <label class="scard" for="sq3">
          <div class="svis"><div class="srect" style="width:29px;height:29px"></div></div>
          <div class="srat">1:1</div><div class="spx">1024 px</div>
        </label>
      </div>

      <div class="sgrp4" id="g-po">
        <input type="radio" name="sz" id="po1" value="512,768">
        <label class="scard" for="po1">
          <div class="svis"><div class="srect" style="width:16px;height:24px"></div></div>
          <div class="srat">2:3</div><div class="spx">512√ó768</div>
        </label>
        <input type="radio" name="sz" id="po2" value="576,1024">
        <label class="scard" for="po2">
          <div class="svis"><div class="srect" style="width:14px;height:25px"></div></div>
          <div class="srat">9:16</div><div class="spx">576√ó1024</div>
        </label>
        <input type="radio" name="sz" id="po3" value="768,1024">
        <label class="scard" for="po3">
          <div class="svis"><div class="srect" style="width:18px;height:24px"></div></div>
          <div class="srat">3:4</div><div class="spx">768√ó1024</div>
        </label>
        <input type="radio" name="sz" id="po4" value="832,1216">
        <label class="scard" for="po4">
          <div class="svis"><div class="srect" style="width:16px;height:23px"></div></div>
          <div class="srat">2:3</div><div class="spx">832√ó1216</div>
        </label>
      </div>

      <div class="sgrp4" id="g-la">
        <input type="radio" name="sz" id="la1" value="768,512">
        <label class="scard" for="la1">
          <div class="svis"><div class="srect" style="width:25px;height:17px"></div></div>
          <div class="srat">3:2</div><div class="spx">768√ó512</div>
        </label>
        <input type="radio" name="sz" id="la2" value="1024,576">
        <label class="scard" for="la2">
          <div class="svis"><div class="srect" style="width:27px;height:15px"></div></div>
          <div class="srat">16:9</div><div class="spx">1024√ó576</div>
        </label>
        <input type="radio" name="sz" id="la3" value="1024,768">
        <label class="scard" for="la3">
          <div class="svis"><div class="srect" style="width:25px;height:19px"></div></div>
          <div class="srat">4:3</div><div class="spx">1024√ó768</div>
        </label>
        <input type="radio" name="sz" id="la4" value="1280,720">
        <label class="scard" for="la4">
          <div class="svis"><div class="srect" style="width:28px;height:16px"></div></div>
          <div class="srat">16:9</div><div class="spx">1280√ó720</div>
        </label>
      </div>

      <div class="cgrp" id="g-cu">
        <div class="crow">
          <div class="diw">
            <span class="dilbl">W</span>
            <input class="diin" type="number" id="dimW" value="872" min="256" max="2048" step="64">
          </div>
          <button class="ibtn lk" id="lkBtn" onclick="toggleLock()">üîí</button>
          <div class="diw">
            <span class="dilbl">H</span>
            <input class="diin" type="number" id="dimH" value="1024" min="256" max="2048" step="64">
          </div>
          <button class="ibtn" onclick="swapDims()">‚áÖ</button>
        </div>
        <button class="appbtn" id="appBtn" onclick="applyCustom()">Apply Custom Size</button>
      </div>
    </div>

    <!-- ‚ïê‚ïê ADSTERRA AD ‚Äî OFF (remove these comment tags to enable) ‚ïê‚ïê
    <div class="ad-slot">
      <div class="ad-lbl">Sponsored</div>
      <div class="ad-box">
        <script>
          atOptions = {
            'key' : '0325a81b241fbcfb35505509e36ae469',
            'format' : 'iframe',
            'height' : 250,
            'width' : 300,
            'params' : {}
          };
        </script>
        <script src="https://www.highperformanceformat.com/0325a81b241fbcfb35505509e36ae469/invoke.js"></script>
      </div>
    </div>
    ‚ïê‚ïê END AD ‚ïê‚ïê -->

    <div class="gsec">
      <button id="genBtn" onclick="generate()">
        <span class="shim"></span>Generate
      </button>
    </div>

  </aside>

  <div class="feed-col" id="feedCol">
    <div class="feed-empty" id="feedEmpty">
      <div class="fe-ico">‚óà</div>
      <div class="fe-title">Canvas awaits</div>
      <div class="fe-sub">Write a prompt and press Generate<br/>Your images will appear here</div>
    </div>
    <div class="feed-scroll" id="feedScroll"></div>
  </div>

  <aside class="recent-col">
    <div class="rc-hdr"><span class="rc-lbl">Recent</span></div>
    <div class="rc-scroll" id="rcScroll"></div>
  </aside>

</div>

<script>
function uc(el){ document.getElementById('cn').textContent = el.value.length; }

function st(tab, btn) {
  document.querySelectorAll('.stab').forEach(b => b.classList.remove('on'));
  document.querySelectorAll('.sgrp, .sgrp4').forEach(g => { g.classList.remove('on'); g.style.display = 'none'; });
  document.getElementById('g-cu').classList.remove('on');
  document.getElementById('g-cu').style.display = 'none';
  btn.classList.add('on');
  if (tab === 'cu') {
    const g = document.getElementById('g-cu');
    g.classList.add('on'); g.style.display = 'flex';
  } else {
    const g = document.getElementById('g-' + tab);
    g.classList.add('on'); g.style.display = 'grid';
  }
}

let aspectLocked = true, aspectRatio = 872/1024, customApplied = false;

function toggleLock() {
  aspectLocked = !aspectLocked;
  const btn = document.getElementById('lkBtn');
  btn.textContent = aspectLocked ? 'üîí' : 'üîì';
  btn.classList.toggle('lk', aspectLocked);
  if (aspectLocked) {
    aspectRatio = (parseFloat(document.getElementById('dimW').value)||512) /
                  (parseFloat(document.getElementById('dimH').value)||512);
  }
}
document.getElementById('dimW').addEventListener('input', function () {
  if (!aspectLocked) return;
  document.getElementById('dimH').value = Math.round((parseFloat(this.value)||512) / aspectRatio);
  resetApply();
});
document.getElementById('dimH').addEventListener('input', function () {
  if (!aspectLocked) return;
  document.getElementById('dimW').value = Math.round((parseFloat(this.value)||512) * aspectRatio);
  resetApply();
});
function resetApply() {
  customApplied = false;
  const b = document.getElementById('appBtn');
  b.classList.remove('done'); b.textContent = 'Apply Custom Size';
}
function swapDims() {
  const wEl = document.getElementById('dimW'), hEl = document.getElementById('dimH');
  [wEl.value, hEl.value] = [hEl.value, wEl.value];
  if (aspectLocked) aspectRatio = parseFloat(wEl.value) / parseFloat(hEl.value);
  resetApply();
}
function applyCustom() {
  customApplied = true;
  const b = document.getElementById('appBtn');
  b.classList.add('done'); b.textContent = '‚úì Applied';
}
function getDims() {
  const tab = document.querySelector('.stab.on').textContent.trim().toLowerCase();
  if (tab === 'custom') {
    if (!customApplied) applyCustom();
    return [
      Math.max(256, Math.min(2048, parseInt(document.getElementById('dimW').value)||512)),
      Math.max(256, Math.min(2048, parseInt(document.getElementById('dimH').value)||512))
    ];
  }
  return document.querySelector('input[name="sz"]:checked').value.split(',').map(Number);
}

function isMobile(){ return window.innerWidth <= 767; }
function scrollToEl(el) {
  if (isMobile()) {
    const shell = document.getElementById('shell');
    shell.scrollTo({ top: el.getBoundingClientRect().top + shell.scrollTop - 12, behavior: 'smooth' });
  } else {
    el.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }
}
function showFeed() {
  document.getElementById('feedEmpty').style.display = 'none';
  document.getElementById('feedScroll').style.display = 'flex';
}

const MSGS = ['Sampling latents‚Ä¶','Refining details‚Ä¶','Decoding image‚Ä¶','Almost ready‚Ä¶'];
let progTimer, progIdx = 0, activeBatch = null;

// Update loading card ka message
function updateLoadingMsg(msg, sublbl, queueNum, pct) {
  try {
    if (!activeBatch) return;
    const card = activeBatch.loadCard;
    const lbl    = card.querySelector('#lc-lbl');
    const sub    = card.querySelector('#lc-sublbl');
    const badge  = card.querySelector('#lc-badge');
    const pctNum = card.querySelector('#lc-pct-num');
    const pctSub = card.querySelector('#lc-pct-sub');

    if (lbl && msg) lbl.textContent = msg;
    if (sub && sublbl !== undefined) sub.textContent = sublbl;

    if (queueNum !== undefined && queueNum > 0) {
      if (badge) { badge.textContent = 'Queue #' + queueNum; badge.style.color = 'rgba(155,125,255,.8)'; }
      if (pctNum) pctNum.textContent = '#' + queueNum;
      if (pctSub) pctSub.textContent = 'QUEUE';
    } else if (queueNum === 0) {
      if (badge) { badge.textContent = 'Generating ‚ú®'; badge.style.color = 'rgba(52,211,153,.9)'; }
    }

    if (pct !== undefined) {
      const ring = card.querySelector('#lc-ring');
      const fill = card.querySelector('#lc-ring-fill');
      if (ring) ring.classList.add('visible');
      if (fill) fill.style.strokeDashoffset = 376 - (376 * pct / 100);
      if (pctNum) pctNum.textContent = Math.round(pct);
      if (pctSub) pctSub.textContent = '%';
    }
  } catch(e) { console.warn('updateMsg err:', e.message); }
}

let fakeProgressTimer = null, fakeProgressVal = 0;
function startFakeProgress() {
  fakeProgressVal = 0;
  if (fakeProgressTimer) clearInterval(fakeProgressTimer);
  fakeProgressTimer = setInterval(() => {
    const remaining = 95 - fakeProgressVal;
    fakeProgressVal = Math.min(95, fakeProgressVal + remaining * 0.05 + 0.4);
    updateLoadingMsg('Image ban rahi hai...', 'almost there', 0, fakeProgressVal);
  }, 700);
}
function completeFakeProgress(cb) {
  if (fakeProgressTimer) { clearInterval(fakeProgressTimer); fakeProgressTimer = null; }
  updateLoadingMsg('Image ready!', '', 0, 100);
  setTimeout(cb, 400);
}

function addLoadingBatch(promptText, imgW, imgH) {
  showFeed();
  const feed = document.getElementById('feedScroll');
  const batch = document.createElement('div');
  batch.className = 'batch';
  const bh = document.createElement('div');
  bh.className = 'bh';
  bh.innerHTML = `
    <svg class="bh-img-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="3" width="18" height="18" rx="3"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/>
    </svg>
    <div class="bh-divider"></div>
    <div class="bh-badge hi">Breezyfy</div>
    <div class="bh-badge">${imgW} √ó ${imgH}</div>
    <div class="bh-prompt">${promptText}</div>`;
  const imgArea = document.createElement('div');
  imgArea.className = 'batch-img-area';
  const loadCard = document.createElement('div');
  loadCard.className = 'load-card';
  const feedWidth = document.getElementById('feedCol').clientWidth - 40;
  loadCard.style.height = Math.max(200, Math.min(480, Math.round(feedWidth * (imgH/imgW)))) + 'px';
  loadCard.innerHTML = `
    <div class="load-grid"></div>
    <div class="load-glow"></div>
    <div class="particles" id="lc-particles"></div>
    <div class="queue-badge" id="lc-badge">Preparing‚Ä¶</div>
    <div class="orb-wrap">
      <svg class="progress-ring" id="lc-ring" viewBox="0 0 140 140">
        <defs>
          <linearGradient id="progGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#6e50ff"/>
            <stop offset="100%" style="stop-color:#9b7dff"/>
          </linearGradient>
        </defs>
        <circle class="track" cx="70" cy="70" r="60"/>
        <circle class="fill" id="lc-ring-fill" cx="70" cy="70" r="60"/>
      </svg>
      <div class="ring-outer"></div>
      <div class="ring-mid"></div>
      <div class="orb-inner">
        <div class="pct-text" id="lc-pct">
          <span id="lc-pct-num">‚Äì</span>
          <span class="pct-sub" id="lc-pct-sub">QUEUE</span>
        </div>
      </div>
    </div>
    <div class="load-status">
      <div class="load-lbl" id="lc-lbl">Queue mein hai‚Ä¶</div>
      <div class="load-sublbl" id="lc-sublbl">thoda wait karo</div>
    </div>`;

  // Spawn floating particles
  const pCont = loadCard.querySelector('#lc-particles');
  for(let i=0;i<14;i++){
    const p = document.createElement('div');
    p.className = 'particle';
    const size = Math.random()*3+2;
    const angle = Math.random()*Math.PI*2;
    const dist = 50+Math.random()*70;
    p.style.cssText = 'width:'+size+'px;height:'+size+'px;left:'+(42+Math.random()*16)+'%;top:'+(42+Math.random()*16)+'%;--dur:'+(2+Math.random()*3)+'s;--del:'+(Math.random()*2)+'s;--tx:'+(Math.cos(angle)*dist)+'px;--ty:'+(Math.sin(angle)*dist)+'px';
    pCont.appendChild(p);
  }

  // Show pct text
  setTimeout(() => {
    const pt = loadCard.querySelector('#lc-pct');
    if(pt) pt.classList.add('visible');
  }, 300);
  imgArea.appendChild(loadCard);
  batch.appendChild(bh);
  batch.appendChild(imgArea);
  feed.insertBefore(batch, feed.firstChild);
  setTimeout(() => scrollToEl(batch), 80);
  activeBatch = { batch, bh, imgArea, loadCard, promptText, imgW, imgH };
  progIdx = 0;
  clearInterval(progTimer);
  const txtEl = loadCard.querySelector('.load-lbl');
  progTimer = setInterval(() => {
    progIdx = (progIdx + 1) % MSGS.length;
    if (txtEl) txtEl.textContent = MSGS[progIdx];
  }, 2400);
}

function resolveLoading(src) {
  clearInterval(progTimer);
  if (!activeBatch) return;
  const { bh, imgArea, promptText, imgW, imgH } = activeBatch;
  activeBatch = null;
  bh.innerHTML = `
    <svg class="bh-img-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="3" width="18" height="18" rx="3"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/>
    </svg>
    <div class="bh-divider"></div>
    <div class="bh-badge hi">Breezyfy</div>
    <div class="bh-badge">${imgW} √ó ${imgH}</div>
    <div class="bh-prompt">${promptText}</div>
    <div class="bh-actions"><a class="bh-dl" href="${src}" download="breezyfy_${imgW}x${imgH}.png">‚Üì Download</a></div>`;
  imgArea.innerHTML = '';
  const outer = document.createElement('div');
  outer.className = 'result-img-outer';
  const imgWrap = document.createElement('div');
  imgWrap.className = 'result-img-wrap';
  imgWrap.style.aspectRatio = `${imgW}/${imgH}`;
  const img = document.createElement('img');
  img.src = src; img.alt = promptText;
  img.style.opacity = '0'; img.style.transition = 'opacity .5s ease';
  img.onload = () => { img.style.opacity = '1'; };
  imgWrap.appendChild(img);
  const dlBar = document.createElement('div');
  dlBar.className = 'img-dl-bar';
  dlBar.innerHTML = `<a class="i-dl" href="${src}" download="breezyfy_${imgW}x${imgH}.png">‚Üì Download</a><span class="i-size-tag">${imgW} √ó ${imgH}</span>`;
  outer.appendChild(imgWrap);
  outer.appendChild(dlBar);
  imgArea.appendChild(outer);
  addToRecent(src, imgW, imgH);
}

function errorLoading(msg) {
  clearInterval(progTimer);
  if (!activeBatch) return;
  const { imgArea } = activeBatch;
  activeBatch = null;
  imgArea.innerHTML = `<div class="err-card"><div class="err-ico">‚ö†</div><div class="err-msg">${msg}</div></div>`;
}

const recentSrcs = [];
function addToRecent(src, imgW, imgH) {
  recentSrcs.unshift({ src, imgW, imgH });
  if (recentSrcs.length > 40) recentSrcs.pop();
  renderRecent();
}
function renderRecent() {
  const strip = document.getElementById('rcScroll');
  strip.innerHTML = '';
  recentSrcs.forEach((item, idx) => {
    const img = document.createElement('img');
    img.className = 'rc-thumb' + (idx === 0 ? ' active' : '');
    img.src = item.src; img.loading = 'lazy';
    img.title = `${item.imgW}√ó${item.imgH}`;
    img.onclick = () => {
      const batches = document.querySelectorAll('#feedScroll .batch');
      if (batches[idx]) batches[idx].scrollIntoView({ behavior:'smooth', block:'start' });
      document.querySelectorAll('.rc-thumb').forEach(t => t.classList.remove('active'));
      img.classList.add('active');
    };
    strip.appendChild(img);
  });
}

/* ‚îÄ‚îÄ BACKEND URL ‚Äî Cloudflare tunnel URL yahan update karo ‚îÄ‚îÄ */
const API_URL = 'https://matt-discussing-opinions-week.trycloudflare.com';

// ‚îÄ‚îÄ Queue polling system ‚îÄ‚îÄ
let pollTimer = null;

function stopPolling() {
  try { if (pollTimer) { clearInterval(pollTimer); pollTimer = null; } } catch(e) {}
}

function resetBtn() {
  try {
    const btn = document.getElementById('genBtn');
    if (btn) { btn.disabled = false; btn.innerHTML = '<span class="shim"></span>Generate'; }
  } catch(e) {}
}

let wasProcessing = false;

async function pollJobStatus(jobId) {
  try {
    const res  = await fetch(`${API_URL}/job/${jobId}`);
    if (!res.ok) return;
    const data = await res.json();

    if (data.status === 'queued') {
      const pos  = data.position || 1;
      const secs = data.estimatedSeconds || 0;
      const timeStr = secs >= 60 ? Math.ceil(secs/60) + ' min' : secs + ' sec';
      const msg = pos === 1 ? 'Aap next hain!' : `${pos} log pehle hain`;
      const sub = pos === 1 ? 'almost your turn' : '~' + timeStr + ' estimated';
      updateLoadingMsg(msg, sub, pos);
      wasProcessing = false;

    } else if (data.status === 'processing') {
      const realPct = data.progress || 0;
      if (!wasProcessing) {
        wasProcessing = true;
        if (fakeProgressTimer) { clearInterval(fakeProgressTimer); fakeProgressTimer = null; }
      }
      // Real progress use karo Draw Things se
      updateLoadingMsg('Image ban rahi hai...', 'almost there', 0, realPct > 0 ? realPct : undefined);

    } else if (data.status === 'done') {
      stopPolling();
      localStorage.removeItem('breezyfy_jobId');
      // Real 100% show karo phir image
      updateLoadingMsg('Image ready!', '', 0, 100);
      setTimeout(() => {
        if (data.image) resolveLoading('data:image/png;base64,' + data.image);
        else errorLoading('Image nahi mili');
        resetBtn();
      }, 500);

    } else if (data.status === 'error') {
      stopPolling();
      localStorage.removeItem('breezyfy_jobId');
      if (fakeProgressTimer) { clearInterval(fakeProgressTimer); fakeProgressTimer = null; }
      errorLoading(data.error || 'Generation failed');
      resetBtn();
    }
  } catch (err) {
    console.warn('[Poll] Retry:', err.message);
  }
}

async function generate() {
  try {
    const promptText = document.getElementById('prompt').value.trim();
    const negPrompt  = document.getElementById('neg').value.trim();
    if (!promptText) { document.getElementById('prompt').focus(); return; }

    const [imgW, imgH] = getDims();
    const btn = document.getElementById('genBtn');
    btn.disabled = true;
    btn.innerHTML = '<span class="shim"></span>Generating‚Ä¶';

    addLoadingBatch(promptText, imgW, imgH);

    const payload = { prompt: promptText, width: imgW, height: imgH };
    if (negPrompt) payload.negative_prompt = negPrompt;

    const res = await fetch(`${API_URL}/generate`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });

    if (!res.ok) throw new Error('Server error ' + res.status);
    const data = await res.json();
    if (data.error) throw new Error(data.error);
    if (!data.jobId) throw new Error('jobId nahi mila server se');

    // LocalStorage mein save karo ‚Äî refresh ke baad bhi kaam karega
    localStorage.setItem('breezyfy_jobId', data.jobId);
    localStorage.setItem('breezyfy_prompt', promptText);
    localStorage.setItem('breezyfy_w', imgW);
    localStorage.setItem('breezyfy_h', imgH);

    // Queue position dikhao
    const pos  = data.position || 1;
    const secs = data.estimatedSeconds || 0;
    const timeStr = secs >= 60 ? Math.ceil(secs/60) + ' min' : secs + ' sec';
    const initMsg = pos === 1 ? 'Aap next hain!' : (pos) + ' log pehle hain';
    const initSub = pos === 1 ? 'almost your turn' : '~' + timeStr + ' estimated';
    updateLoadingMsg(initMsg, initSub, pos);

    // Polling shuru karo
    stopPolling();
    const jobId = data.jobId;
    pollTimer = setInterval(() => pollJobStatus(jobId), 2000);

  } catch (err) {
    stopPolling();
    console.error('[Generate] Error:', err.message);
    const msg = (err.message.includes('fetch') || err.message.includes('Failed'))
      ? 'Server se connect nahi ho pa raha. Mac Mini check karo.'
      : (err.message || 'Generation failed');
    errorLoading(msg);
    resetBtn();
  }
}

document.getElementById('prompt').addEventListener('keydown', e => {
  if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') generate();
});

aspectRatio = parseFloat(document.getElementById('dimW').value) /
              parseFloat(document.getElementById('dimH').value);

// ‚îÄ‚îÄ PAGE LOAD: check karo koi pending job hai?
(async function resumeIfPending() {
  const savedJobId = localStorage.getItem('breezyfy_jobId');
  if (!savedJobId) return;

  const savedPrompt = localStorage.getItem('breezyfy_prompt') || '...';
  const savedW = parseInt(localStorage.getItem('breezyfy_w')) || 512;
  const savedH = parseInt(localStorage.getItem('breezyfy_h')) || 512;

  // Check karo job abhi bhi alive hai?
  try {
    const res  = await fetch(`${API_URL}/job/${savedJobId}`);
    if (!res.ok) { localStorage.removeItem('breezyfy_jobId'); return; }
    const data = await res.json();

    if (data.status === 'done') {
      // Image already ban gayi thi ‚Äî seedha dikhao
      localStorage.removeItem('breezyfy_jobId');
      addLoadingBatch(savedPrompt, savedW, savedH);
      updateLoadingMsg('Image ready!', 'refresh se pehle ban gayi thi', 0, 100);
      setTimeout(() => {
        if (data.image) resolveLoading('data:image/png;base64,' + data.image);
        resetBtn();
      }, 800);

    } else if (data.status === 'queued' || data.status === 'processing') {
      // Abhi bhi chal rahi hai ‚Äî resume karo
      const btn = document.getElementById('genBtn');
      btn.disabled = true;
      btn.innerHTML = '<span class="shim"></span>Generating‚Ä¶';
      addLoadingBatch(savedPrompt, savedW, savedH);
      updateLoadingMsg('Resume ho raha hai...', 'aapka kaam chal raha tha', data.position || 1);
      wasProcessing = false;
      stopPolling();
      pollTimer = setInterval(() => pollJobStatus(savedJobId), 2000);

    } else {
      // Error ya expire ‚Äî clear karo
      localStorage.removeItem('breezyfy_jobId');
    }
  } catch(e) {
    localStorage.removeItem('breezyfy_jobId');
  }
})();
</script>
</body>
</html>
